!function(n){var e={};function t(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return n[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}t.m=n,t.c=e,t.d=function(n,e,o){t.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:o})},t.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},t.t=function(n,e){if(1&e&&(n=t(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var r in n)t.d(o,r,function(e){return n[e]}.bind(null,r));return o},t.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(e,"a",e),e},t.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},t.p="",t(t.s=0)}([function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){return function(n,e){var t=this;this.request=function(n,e){return new Promise(function(o,r){t.pool.connect(function(t,i,u){if(t)return u(),r(t);i.query(n,e,function(n,e){u(),n&&r(n),o(e.rows)})})})},this.find_all=function(n){var e="SELECT * FROM "+t.table;return void 0!==typeof n&&(e+=" ORDER BY "+n,console.log(e)),new Promise(function(n,o){t.pool.connect(function(t,r,i){if(t)return i(),o(t);r.query(e,function(e,t){i(),e&&(console.log(e),o(e)),n(t.rows)})})})},this.find_by_id=function(n){return new Promise(function(e,o){t.pool.connect(function(r,i,u){if(r)return u(),o(r);i.query("SELECT * FROM "+t.table+" WHERE _id=$1",[n],function(n,t){u(),n&&o(n),e(t.rows[0])})})})},this.bulk_insert=function(n){var e=Object.keys(n[0]),o=1,r=[],i=[];n.forEach(function(n){var e=[];for(var t in n)r.push(n[t]),e.push("$"+o),o++;i.push("("+e.join(",")+")")});var u="INSERT INTO "+t.table+" ("+e.join(",")+") VALUES "+i.join(",")+" RETURNING *";return new Promise(function(n,e){t.pool.connect(function(t,o,i){if(t)return i(),e(t);o.query(u,r,function(t,o){i(),t&&e(t),n(o)})})})},this.single_insert=function(n){var e=[],o=1,r=[],i=[];for(var u in n)r.push(n[u]),i.push(u),e.push("$"+o),o++;var c="INSERT INTO "+t.table+" ("+i.join(",")+") VALUES ("+e.join(",")+") RETURNING *";return new Promise(function(n,e){t.pool.connect(function(t,o,i){if(t)return i(),e(t);o.query(c,r,function(t,o){i(),t&&e(t),n(o.rows[0])})})})},this.single_update=function(n,e){var o=1,r=[],i=[];for(var u in n)r.push(n[u]),i.push(u+" =$"+o),o++;var c="UPDATE "+t.table+" SET ("+i.join(",")+") RETURNING * WHERE _id = "+e;return new Promise(function(n,e){t.pool.connect(function(t,o,i){if(t)return i(),e(t);o.query(c,r,function(t,o){i(),t&&e(t),n(o)})})})},this.destroy_by_id=function(n){return new Promise(function(e,o){t.pool.connect(function(r,i,u){if(r)return u(),o(r);i.query("DELETE FROM "+t.table+" WHERE _id=$2",[n],function(n,t){u(),n&&o(n),e(t)})})})},this.pool=n,this.table=e}}();e.Model=o}]);